{"ast":null,"code":"import _objectSpread from\"R:/NavAyush_SIH-main/ayursutra/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef,useEffect}from'react';import{chatbotAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const bubbleStyle={maxWidth:'80%',padding:'10px 12px',borderRadius:'12px',margin:'6px 0',lineHeight:1.35,fontSize:14};export default function ChatWidget(){const[open,setOpen]=useState(false);const[input,setInput]=useState('');const[loading,setLoading]=useState(false);const[messages,setMessages]=useState([{role:'assistant',content:\"Hello! I'm your AyurSutra assistant. How can I help you today?\"}]);// Voice states\nconst[recognizing,setRecognizing]=useState(false);const[ttsEnabled,setTtsEnabled]=useState(true);const[lang,setLang]=useState('en-IN');// 'en-IN' | 'hi-IN' | 'te-IN'\nconst toggleTts=()=>{setTtsEnabled(v=>{const next=!v;if(!next&&'speechSynthesis'in window){try{window.speechSynthesis.cancel();}catch(_unused){}}return next;});};const listRef=useRef(null);const recognitionRef=useRef(null);const hasSR=typeof window!=='undefined'&&(window.SpeechRecognition||window.webkitSpeechRecognition);useEffect(()=>{if(listRef.current){listRef.current.scrollTop=listRef.current.scrollHeight;}},[messages,open]);// Initialize/refresh SpeechRecognition when language changes\nuseEffect(()=>{const SR=window.SpeechRecognition||window.webkitSpeechRecognition;if(!SR)return;// stop previous session\ntry{var _recognitionRef$curre,_recognitionRef$curre2;(_recognitionRef$curre=recognitionRef.current)===null||_recognitionRef$curre===void 0?void 0:(_recognitionRef$curre2=_recognitionRef$curre.stop)===null||_recognitionRef$curre2===void 0?void 0:_recognitionRef$curre2.call(_recognitionRef$curre);}catch(_unused2){}const recognition=new SR();recognition.continuous=false;recognition.interimResults=true;recognition.lang=lang;recognition.onstart=()=>setRecognizing(true);recognition.onend=()=>setRecognizing(false);recognition.onerror=()=>setRecognizing(false);recognition.onresult=event=>{let combined='';for(let i=event.resultIndex;i<event.results.length;i++){combined+=event.results[i][0].transcript;}setInput(combined.trim());};recognitionRef.current=recognition;return()=>{var _recognition$stop;return(_recognition$stop=recognition.stop)===null||_recognition$stop===void 0?void 0:_recognition$stop.call(recognition);};},[lang]);const startStopMic=()=>{const rec=recognitionRef.current;if(!rec)return alert('Voice input is not supported in this browser.');if(recognizing)rec.stop();else rec.start();};// Speak helper\nconst speak=text=>{if(!ttsEnabled)return;if(!('speechSynthesis'in window))return;try{const utter=new SpeechSynthesisUtterance(String(text));utter.lang=lang;utter.rate=1;utter.pitch=1;window.speechSynthesis.cancel();window.speechSynthesis.speak(utter);}catch(_){// no-op\n}};const send=async()=>{const text=input.trim();if(!text||loading)return;const nextMsgs=[...messages,{role:'user',content:text}];setMessages(nextMsgs);setInput('');setLoading(true);try{const{data}=await chatbotAPI.sendMessage({message:text,history:nextMsgs.slice(-6),// send small context window\nlanguage:lang});const reply=(data===null||data===void 0?void 0:data.reply)||\"I'm here to help.\";setMessages(prev=>[...prev,{role:'assistant',content:reply}]);speak(reply);}catch(e){setMessages(prev=>[...prev,{role:'assistant',content:'Sorry, I could not process that right now.'}]);}finally{setLoading(false);}};const onKeyDown=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();send();}};// Floating toggle button when closed\nif(!open){const hasUnread=messages.length>1;// simple heuristic\nreturn/*#__PURE__*/_jsxs(\"button\",{\"aria-label\":\"Open chat\",title:\"Chat with AyurSutra Assistant\",onClick:()=>setOpen(true),style:{position:'fixed',right:20,bottom:20,borderRadius:16,width:64,height:64,background:'linear-gradient(135deg, #0ea5e9 0%, #22c55e 100%)',color:'white',border:'none',boxShadow:'0 12px 28px rgba(2, 132, 199, 0.35)',cursor:'pointer',fontWeight:700,display:'flex',alignItems:'center',justifyContent:'center',transition:'transform 120ms ease, box-shadow 120ms ease',zIndex:1000},onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 16px 32px rgba(2, 132, 199, 0.45)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 12px 28px rgba(2, 132, 199, 0.35)';},children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"28\",height:\"28\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M7 10.5C7 10.2239 7.22386 10 7.5 10H16.5C16.7761 10 17 10.2239 17 10.5C17 10.7761 16.7761 11 16.5 11H7.5C7.22386 11 7 10.7761 7 10.5Z\",fill:\"white\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M7 7.5C7 7.22386 7.22386 7 7.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H7.5C7.22386 8 7 7.77614 7 7.5Z\",fill:\"white\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M4 4.75C4 3.23122 5.23122 2 6.75 2H17.25C18.7688 2 20 3.23122 20 4.75V13.25C20 14.7688 18.7688 16 17.25 16H10.3L6.334 19.223C5.82773 19.6355 5.1 19.2773 5.1 18.6295V16H6.75C5.23122 16 4 14.7688 4 13.25V4.75Z\",fill:\"white\",fillOpacity:\"0.9\"})]}),hasUnread&&/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',top:14,right:14,width:10,height:10,borderRadius:'9999px',background:'#ef4444',boxShadow:'0 0 0 2px rgba(255,255,255,0.9)'},\"aria-hidden\":\"true\"})]});}// Opened chat window\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',right:20,bottom:20,width:360,height:520,background:'white',borderRadius:16,boxShadow:'0 18px 40px rgba(0,0,0,0.22)',display:'flex',flexDirection:'column',overflow:'hidden',border:'1px solid #e5e7eb',zIndex:1000},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #0ea5e9 0%, #22c55e 100%)',color:'white',padding:'12px 14px',display:'flex',alignItems:'center',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:10},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:28,height:28,borderRadius:8,background:'rgba(255,255,255,0.2)',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"svg\",{width:\"18\",height:\"18\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M7 10.5C7 10.2239 7.22386 10 7.5 10H16.5C16.7761 10 17 10.2239 17 10.5C17 10.7761 16.7761 11 16.5 11H7.5C7.22386 11 7 10.7761 7 10.5Z\",fill:\"white\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M7 7.5C7 7.22386 7.22386 7 7.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H7.5C7.22386 8 7 7.77614 7 7.5Z\",fill:\"white\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M4 4.75C4 3.23122 5.23122 2 6.75 2H17.25C18.7688 2 20 3.23122 20 4.75V13.25C20 14.7688 18.7688 16 17.25 16H10.3L6.334 19.223C5.82773 19.6355 5.1 19.2773 5.1 18.6295V16H6.75C5.23122 16 4 14.7688 4 13.25V4.75Z\",fill:\"white\",fillOpacity:\"0.9\"})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700},children:\"AyurSutra Assistant\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:12,opacity:0.9},children:\"Typically replies in a minute\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:8},children:[/*#__PURE__*/_jsxs(\"select\",{\"aria-label\":\"Select language\",title:\"Select language\",value:lang,onChange:e=>setLang(e.target.value),style:{appearance:'none',WebkitAppearance:'none',MozAppearance:'none',background:'rgba(255,255,255,0.2)',color:'white',border:'none',borderRadius:8,padding:'6px 8px',fontSize:12,cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"en-IN\",style:{color:'#111827'},children:\"English\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hi-IN\",style:{color:'#111827'},children:\"\\u0939\\u093F\\u0928\\u094D\\u0926\\u0940\"}),/*#__PURE__*/_jsx(\"option\",{value:\"te-IN\",style:{color:'#111827'},children:\"\\u0C24\\u0C46\\u0C32\\u0C41\\u0C17\\u0C41\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleTts,title:ttsEnabled?'Disable voice playback':'Enable voice playback',\"aria-label\":\"Toggle voice playback\",style:{background:'rgba(255,255,255,0.2)',border:'none',color:'white',width:32,height:32,borderRadius:8,display:'flex',alignItems:'center',justifyContent:'center',cursor:'pointer'},children:ttsEnabled?/*#__PURE__*/_jsxs(\"svg\",{width:\"18\",height:\"18\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M3 9H7L12 5V19L7 15H3V9Z\",fill:\"white\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M16 8C17.6569 9.65685 17.6569 14.3431 16 16\",stroke:\"white\",strokeWidth:\"2\",strokeLinecap:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M18.5 5.5C21.5376 8.53757 21.5376 15.4624 18.5 18.5\",stroke:\"white\",strokeWidth:\"2\",strokeLinecap:\"round\"})]}):/*#__PURE__*/_jsxs(\"svg\",{width:\"18\",height:\"18\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M3 9H7L12 5V19L7 15H3V9Z\",fill:\"white\",opacity:\"0.7\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M16 8C17.6569 9.65685 17.6569 14.3431 16 16\",stroke:\"white\",strokeWidth:\"2\",strokeLinecap:\"round\",opacity:\"0.5\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"20\",y1:\"4\",x2:\"14\",y2:\"20\",stroke:\"white\",strokeWidth:\"2\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setOpen(false),style:{background:'transparent',border:'none',color:'white',fontSize:16,cursor:'pointer'},\"aria-label\":\"Close chat\",children:\"\\u2715\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{ref:listRef,style:{flex:1,padding:'12px',overflowY:'auto',background:'#f8fafc'},children:[messages.map((m,idx)=>/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:m.role==='user'?'flex-end':'flex-start'},children:/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},bubbleStyle),{},{background:m.role==='user'?'#0ea5e9':'#e5e7eb',color:m.role==='user'?'white':'#111827'}),children:m.content})},idx)),loading&&/*#__PURE__*/_jsx(\"div\",{style:{opacity:0.7,fontSize:12,marginTop:6},children:\"Assistant is typing\\u2026\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:10,borderTop:'1px solid #e5e7eb',background:'white'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,alignItems:'flex-end'},children:[/*#__PURE__*/_jsx(\"textarea\",{value:input,onChange:e=>setInput(e.target.value),onKeyDown:onKeyDown,placeholder:\"Type your message...\",rows:2,style:{flex:1,resize:'none',padding:8,borderRadius:8,border:'1px solid #d1d5db',fontSize:14}}),/*#__PURE__*/_jsx(\"button\",{onClick:startStopMic,title:!hasSR?'Voice input not supported in this browser':recognizing?'Stop recording':'Speak',\"aria-label\":\"Voice input\",style:{width:38,height:38,borderRadius:8,border:'1px solid #d1d5db',background:!hasSR?'#f3f4f6':recognizing?'#fee2e2':'white',color:!hasSR?'#9ca3af':recognizing?'#b91c1c':'#111827',display:'flex',alignItems:'center',justifyContent:'center',cursor:!hasSR?'not-allowed':'pointer'},disabled:!hasSR,children:/*#__PURE__*/_jsxs(\"svg\",{width:\"18\",height:\"18\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M12 14C13.6569 14 15 12.6569 15 11V6C15 4.34315 13.6569 3 12 3C10.3431 3 9 4.34315 9 6V11C9 12.6569 10.3431 14 12 14Z\",fill:\"currentColor\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M5 11C5 14.3137 7.68629 17 11 17H13C16.3137 17 19 14.3137 19 11\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 17V21\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:send,disabled:loading,style:{background:loading?'#93c5fd':'#0ea5e9',color:'white',border:'none',borderRadius:8,padding:'8px 12px',cursor:loading?'not-allowed':'pointer',fontWeight:600},children:\"Send\"})]})})]});}","map":{"version":3,"names":["React","useState","useRef","useEffect","chatbotAPI","jsx","_jsx","jsxs","_jsxs","bubbleStyle","maxWidth","padding","borderRadius","margin","lineHeight","fontSize","ChatWidget","open","setOpen","input","setInput","loading","setLoading","messages","setMessages","role","content","recognizing","setRecognizing","ttsEnabled","setTtsEnabled","lang","setLang","toggleTts","v","next","window","speechSynthesis","cancel","_unused","listRef","recognitionRef","hasSR","SpeechRecognition","webkitSpeechRecognition","current","scrollTop","scrollHeight","SR","_recognitionRef$curre","_recognitionRef$curre2","stop","call","_unused2","recognition","continuous","interimResults","onstart","onend","onerror","onresult","event","combined","i","resultIndex","results","length","transcript","trim","_recognition$stop","startStopMic","rec","alert","start","speak","text","utter","SpeechSynthesisUtterance","String","rate","pitch","_","send","nextMsgs","data","sendMessage","message","history","slice","language","reply","prev","e","onKeyDown","key","shiftKey","preventDefault","hasUnread","title","onClick","style","position","right","bottom","width","height","background","color","border","boxShadow","cursor","fontWeight","display","alignItems","justifyContent","transition","zIndex","onMouseEnter","currentTarget","transform","onMouseLeave","children","viewBox","fill","xmlns","d","fillOpacity","top","flexDirection","overflow","gap","opacity","value","onChange","target","appearance","WebkitAppearance","MozAppearance","stroke","strokeWidth","strokeLinecap","x1","y1","x2","y2","ref","flex","overflowY","map","m","idx","_objectSpread","marginTop","borderTop","placeholder","rows","resize","disabled"],"sources":["R:/NavAyush_SIH-main/ayursutra/frontend/src/components/ChatWidget.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { chatbotAPI } from '../services/api';\r\n\r\nconst bubbleStyle = {\r\n  maxWidth: '80%',\r\n  padding: '10px 12px',\r\n  borderRadius: '12px',\r\n  margin: '6px 0',\r\n  lineHeight: 1.35,\r\n  fontSize: 14\r\n};\r\n\r\nexport default function ChatWidget() {\r\n  const [open, setOpen] = useState(false);\r\n  const [input, setInput] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [messages, setMessages] = useState([\r\n    { role: 'assistant', content: \"Hello! I'm your AyurSutra assistant. How can I help you today?\" }\r\n  ]);\r\n  // Voice states\r\n  const [recognizing, setRecognizing] = useState(false);\r\n  const [ttsEnabled, setTtsEnabled] = useState(true);\r\n  const [lang, setLang] = useState('en-IN'); // 'en-IN' | 'hi-IN' | 'te-IN'\r\n  const toggleTts = () => {\r\n    setTtsEnabled((v) => {\r\n      const next = !v;\r\n      if (!next && 'speechSynthesis' in window) {\r\n        try { window.speechSynthesis.cancel(); } catch {}\r\n      }\r\n      return next;\r\n    });\r\n  };\r\n  const listRef = useRef(null);\r\n  const recognitionRef = useRef(null);\r\n  const hasSR = typeof window !== 'undefined' && (window.SpeechRecognition || window.webkitSpeechRecognition);\r\n\r\n  useEffect(() => {\r\n    if (listRef.current) {\r\n      listRef.current.scrollTop = listRef.current.scrollHeight;\r\n    }\r\n  }, [messages, open]);\r\n\r\n  // Initialize/refresh SpeechRecognition when language changes\r\n  useEffect(() => {\r\n    const SR = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n    if (!SR) return;\r\n    // stop previous session\r\n    try { recognitionRef.current?.stop?.(); } catch {}\r\n    const recognition = new SR();\r\n    recognition.continuous = false;\r\n    recognition.interimResults = true;\r\n    recognition.lang = lang;\r\n    recognition.onstart = () => setRecognizing(true);\r\n    recognition.onend = () => setRecognizing(false);\r\n    recognition.onerror = () => setRecognizing(false);\r\n    recognition.onresult = (event) => {\r\n      let combined = '';\r\n      for (let i = event.resultIndex; i < event.results.length; i++) {\r\n        combined += event.results[i][0].transcript;\r\n      }\r\n      setInput(combined.trim());\r\n    };\r\n    recognitionRef.current = recognition;\r\n    return () => recognition.stop?.();\r\n  }, [lang]);\r\n\r\n  const startStopMic = () => {\r\n    const rec = recognitionRef.current;\r\n    if (!rec) return alert('Voice input is not supported in this browser.');\r\n    if (recognizing) rec.stop();\r\n    else rec.start();\r\n  };\r\n\r\n  // Speak helper\r\n  const speak = (text) => {\r\n    if (!ttsEnabled) return;\r\n    if (!('speechSynthesis' in window)) return;\r\n    try {\r\n      const utter = new SpeechSynthesisUtterance(String(text));\r\n      utter.lang = lang;\r\n      utter.rate = 1;\r\n      utter.pitch = 1;\r\n      window.speechSynthesis.cancel();\r\n      window.speechSynthesis.speak(utter);\r\n    } catch (_) {\r\n      // no-op\r\n    }\r\n  };\r\n\r\n  const send = async () => {\r\n    const text = input.trim();\r\n    if (!text || loading) return;\r\n    const nextMsgs = [...messages, { role: 'user', content: text }];\r\n    setMessages(nextMsgs);\r\n    setInput('');\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await chatbotAPI.sendMessage({\r\n        message: text,\r\n        history: nextMsgs.slice(-6), // send small context window\r\n        language: lang\r\n      });\r\n      const reply = data?.reply || \"I'm here to help.\";\r\n      setMessages(prev => [...prev, { role: 'assistant', content: reply }]);\r\n      speak(reply);\r\n    } catch (e) {\r\n      setMessages(prev => [...prev, { role: 'assistant', content: 'Sorry, I could not process that right now.' }]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const onKeyDown = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      send();\r\n    }\r\n  };\r\n\r\n  // Floating toggle button when closed\r\n  if (!open) {\r\n    const hasUnread = messages.length > 1; // simple heuristic\r\n    return (\r\n      <button\r\n        aria-label=\"Open chat\"\r\n        title=\"Chat with AyurSutra Assistant\"\r\n        onClick={() => setOpen(true)}\r\n        style={{\r\n          position: 'fixed',\r\n          right: 20,\r\n          bottom: 20,\r\n          borderRadius: 16,\r\n          width: 64,\r\n          height: 64,\r\n          background: 'linear-gradient(135deg, #0ea5e9 0%, #22c55e 100%)',\r\n          color: 'white',\r\n          border: 'none',\r\n          boxShadow: '0 12px 28px rgba(2, 132, 199, 0.35)',\r\n          cursor: 'pointer',\r\n          fontWeight: 700,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          transition: 'transform 120ms ease, box-shadow 120ms ease',\r\n          zIndex: 1000\r\n        }}\r\n        onMouseEnter={(e) => {\r\n          e.currentTarget.style.transform = 'translateY(-2px)';\r\n          e.currentTarget.style.boxShadow = '0 16px 32px rgba(2, 132, 199, 0.45)';\r\n        }}\r\n        onMouseLeave={(e) => {\r\n          e.currentTarget.style.transform = 'translateY(0)';\r\n          e.currentTarget.style.boxShadow = '0 12px 28px rgba(2, 132, 199, 0.35)';\r\n        }}\r\n      >\r\n        {/* Chat bubble icon */}\r\n        <svg width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M7 10.5C7 10.2239 7.22386 10 7.5 10H16.5C16.7761 10 17 10.2239 17 10.5C17 10.7761 16.7761 11 16.5 11H7.5C7.22386 11 7 10.7761 7 10.5Z\" fill=\"white\"/>\r\n          <path d=\"M7 7.5C7 7.22386 7.22386 7 7.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H7.5C7.22386 8 7 7.77614 7 7.5Z\" fill=\"white\"/>\r\n          <path d=\"M4 4.75C4 3.23122 5.23122 2 6.75 2H17.25C18.7688 2 20 3.23122 20 4.75V13.25C20 14.7688 18.7688 16 17.25 16H10.3L6.334 19.223C5.82773 19.6355 5.1 19.2773 5.1 18.6295V16H6.75C5.23122 16 4 14.7688 4 13.25V4.75Z\" fill=\"white\" fillOpacity=\"0.9\"/>\r\n        </svg>\r\n        {hasUnread && (\r\n          <span\r\n            style={{\r\n              position: 'absolute',\r\n              top: 14,\r\n              right: 14,\r\n              width: 10,\r\n              height: 10,\r\n              borderRadius: '9999px',\r\n              background: '#ef4444',\r\n              boxShadow: '0 0 0 2px rgba(255,255,255,0.9)'\r\n            }}\r\n            aria-hidden=\"true\"\r\n          />\r\n        )}\r\n      </button>\r\n    );\r\n  }\r\n\r\n  // Opened chat window\r\n  return (\r\n    <div\r\n      style={{\r\n        position: 'fixed',\r\n        right: 20,\r\n        bottom: 20,\r\n        width: 360,\r\n        height: 520,\r\n        background: 'white',\r\n        borderRadius: 16,\r\n        boxShadow: '0 18px 40px rgba(0,0,0,0.22)',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        overflow: 'hidden',\r\n        border: '1px solid #e5e7eb',\r\n        zIndex: 1000\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          background: 'linear-gradient(135deg, #0ea5e9 0%, #22c55e 100%)',\r\n          color: 'white',\r\n          padding: '12px 14px',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between'\r\n        }}\r\n      >\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: 10 }}>\r\n          <div style={{\r\n            width: 28,\r\n            height: 28,\r\n            borderRadius: 8,\r\n            background: 'rgba(255,255,255,0.2)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center'\r\n          }}>\r\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M7 10.5C7 10.2239 7.22386 10 7.5 10H16.5C16.7761 10 17 10.2239 17 10.5C17 10.7761 16.7761 11 16.5 11H7.5C7.22386 11 7 10.7761 7 10.5Z\" fill=\"white\"/>\r\n              <path d=\"M7 7.5C7 7.22386 7.22386 7 7.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H7.5C7.22386 8 7 7.77614 7 7.5Z\" fill=\"white\"/>\r\n              <path d=\"M4 4.75C4 3.23122 5.23122 2 6.75 2H17.25C18.7688 2 20 3.23122 20 4.75V13.25C20 14.7688 18.7688 16 17.25 16H10.3L6.334 19.223C5.82773 19.6355 5.1 19.2773 5.1 18.6295V16H6.75C5.23122 16 4 14.7688 4 13.25V4.75Z\" fill=\"white\" fillOpacity=\"0.9\"/>\r\n            </svg>\r\n          </div>\r\n          <div>\r\n            <div style={{ fontWeight: 700 }}>AyurSutra Assistant</div>\r\n            <div style={{ fontSize: 12, opacity: 0.9 }}>Typically replies in a minute</div>\r\n          </div>\r\n        </div>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n          {/* Language selector */}\r\n          <select\r\n            aria-label=\"Select language\"\r\n            title=\"Select language\"\r\n            value={lang}\r\n            onChange={(e) => setLang(e.target.value)}\r\n            style={{\r\n              appearance: 'none',\r\n              WebkitAppearance: 'none',\r\n              MozAppearance: 'none',\r\n              background: 'rgba(255,255,255,0.2)',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: 8,\r\n              padding: '6px 8px',\r\n              fontSize: 12,\r\n              cursor: 'pointer'\r\n            }}\r\n         >\r\n            <option value=\"en-IN\" style={{ color: '#111827' }}>English</option>\r\n            <option value=\"hi-IN\" style={{ color: '#111827' }}>हिन्दी</option>\r\n            <option value=\"te-IN\" style={{ color: '#111827' }}>తెలుగు</option>\r\n          </select>\r\n          {/* TTS toggle */}\r\n          <button\r\n            onClick={toggleTts}\r\n            title={ttsEnabled ? 'Disable voice playback' : 'Enable voice playback'}\r\n            aria-label=\"Toggle voice playback\"\r\n            style={{\r\n              background: 'rgba(255,255,255,0.2)',\r\n              border: 'none',\r\n              color: 'white',\r\n              width: 32,\r\n              height: 32,\r\n              borderRadius: 8,\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            {/* speaker icon */}\r\n            {ttsEnabled ? (\r\n              <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M3 9H7L12 5V19L7 15H3V9Z\" fill=\"white\"/>\r\n                <path d=\"M16 8C17.6569 9.65685 17.6569 14.3431 16 16\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n                <path d=\"M18.5 5.5C21.5376 8.53757 21.5376 15.4624 18.5 18.5\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n              </svg>\r\n            ) : (\r\n              <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M3 9H7L12 5V19L7 15H3V9Z\" fill=\"white\" opacity=\"0.7\"/>\r\n                <path d=\"M16 8C17.6569 9.65685 17.6569 14.3431 16 16\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" opacity=\"0.5\"/>\r\n                <line x1=\"20\" y1=\"4\" x2=\"14\" y2=\"20\" stroke=\"white\" strokeWidth=\"2\"/>\r\n              </svg>\r\n            )}\r\n          </button>\r\n          {/* Close */}\r\n          <button\r\n            onClick={() => setOpen(false)}\r\n            style={{\r\n              background: 'transparent',\r\n              border: 'none',\r\n              color: 'white',\r\n              fontSize: 16,\r\n              cursor: 'pointer'\r\n            }}\r\n            aria-label=\"Close chat\"\r\n          >\r\n            ✕\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        ref={listRef}\r\n        style={{\r\n          flex: 1,\r\n          padding: '12px',\r\n          overflowY: 'auto',\r\n          background: '#f8fafc'\r\n        }}\r\n      >\r\n        {messages.map((m, idx) => (\r\n          <div key={idx} style={{ display: 'flex', justifyContent: m.role === 'user' ? 'flex-end' : 'flex-start' }}>\r\n            <div\r\n              style={{\r\n                ...bubbleStyle,\r\n                background: m.role === 'user' ? '#0ea5e9' : '#e5e7eb',\r\n                color: m.role === 'user' ? 'white' : '#111827'\r\n              }}\r\n            >\r\n              {m.content}\r\n            </div>\r\n          </div>\r\n        ))}\r\n        {loading && (\r\n          <div style={{ opacity: 0.7, fontSize: 12, marginTop: 6 }}>Assistant is typing…</div>\r\n        )}\r\n      </div>\r\n\r\n      <div style={{ padding: 10, borderTop: '1px solid #e5e7eb', background: 'white' }}>\r\n        <div style={{ display: 'flex', gap: 8, alignItems: 'flex-end' }}>\r\n          <textarea\r\n            value={input}\r\n            onChange={(e) => setInput(e.target.value)}\r\n            onKeyDown={onKeyDown}\r\n            placeholder=\"Type your message...\"\r\n            rows={2}\r\n            style={{\r\n              flex: 1,\r\n              resize: 'none',\r\n              padding: 8,\r\n              borderRadius: 8,\r\n              border: '1px solid #d1d5db',\r\n              fontSize: 14\r\n            }}\r\n          />\r\n          {/* Microphone button */}\r\n          <button\r\n            onClick={startStopMic}\r\n            title={!hasSR ? 'Voice input not supported in this browser' : (recognizing ? 'Stop recording' : 'Speak')}\r\n            aria-label=\"Voice input\"\r\n            style={{\r\n              width: 38,\r\n              height: 38,\r\n              borderRadius: 8,\r\n              border: '1px solid #d1d5db',\r\n              background: !hasSR ? '#f3f4f6' : (recognizing ? '#fee2e2' : 'white'),\r\n              color: !hasSR ? '#9ca3af' : (recognizing ? '#b91c1c' : '#111827'),\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              cursor: !hasSR ? 'not-allowed' : 'pointer'\r\n            }}\r\n            disabled={!hasSR}\r\n          >\r\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M12 14C13.6569 14 15 12.6569 15 11V6C15 4.34315 13.6569 3 12 3C10.3431 3 9 4.34315 9 6V11C9 12.6569 10.3431 14 12 14Z\" fill=\"currentColor\"/>\r\n              <path d=\"M5 11C5 14.3137 7.68629 17 11 17H13C16.3137 17 19 14.3137 19 11\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n              <path d=\"M12 17V21\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n            </svg>\r\n          </button>\r\n          <button\r\n            onClick={send}\r\n            disabled={loading}\r\n            style={{\r\n              background: loading ? '#93c5fd' : '#0ea5e9',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: 8,\r\n              padding: '8px 12px',\r\n              cursor: loading ? 'not-allowed' : 'pointer',\r\n              fontWeight: 600\r\n            }}\r\n          >\r\n            Send\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}